<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Carrito de Compras MAXITECH</title>
  <link rel="stylesheet" href="CSS para opciones 2/buy.css">
</head>
<body>

  <!-- MODAL DE NOTIFICACIÓN -->
  <div id="modalNotificacion" style="display:none;">
    <p id="mensajeNotificacion"></p>
  </div>

  <!-- ENCABEZADO -->
  <header>
    <h1>Tienda de Productos Tecnológicos - MaxiTech</h1>

    <!-- Carrito -->
    <div class="carrito" onclick="abrirCarrito()">
      <img src="fondos_banners_logos/carrito.png" alt="Carrito de compras" width="50">
      <span id="contadorCarrito">0</span>
    </div>
  </header>

  <main>
    <h2>Productos disponibles</h2>

    <!-- BUSCADOR -->
    <div class="buscador">
      <input type="text" id="inputBusqueda" placeholder="Buscar producto..." oninput="buscarProducto()">
      <!-- Abrir modal de gestión (insertar/editar/eliminar) -->
      <button onclick="abrirGestion()" class="btn-gestion">Gestionar</button>
    </div>

    <!-- CONTENEDOR DINÁMICO -->
    <div class="productos" id="contenedorProductos"></div>
  </main>

  <!-- MODAL DETALLE -->
  <div id="modalDetalle" class="modal-overlay" style="display:none;">
    <div id="contenidoDetalle" class="modal-card">
      <button class="close-x" onclick="cerrarModal()">✕</button>
      <img id="imagenDetalle" src="" alt="Imagen del producto">
      <h2 id="nombreDetalle"></h2>
      <p id="categoriaDetalle"></p>
      <p id="precioDetalle"></p>

      <hr>
      <h4>Descripción del producto</h4>
      <ul id="listaDetalle"></ul>

      <div id="botonesDetalle">
        <button onclick="verDescuento()">Ver descuento</button>
        <button onclick="verPagos()">Opciones de pago</button>
        <button onclick="cerrarModal()">Cerrar</button>
      </div>
    </div>
  </div>

  <!-- MODAL CARRITO -->
  <div id="modalCarrito" class="modal-overlay" style="display:none;">
    <div class="modal-card">
      <button class="close-x" onclick="cerrarCarrito()">✕</button>
      <h2>Tu Carrito</h2>
      <div id="listaCarrito"></div>
      <p id="totalCarrito">Total: S/.0</p>
      <div style="margin-top:10px;">
        <button onclick="vaciarCarrito()">Vaciar carrito</button>
        <button onclick="checkout()">Pagar</button>
      </div>
    </div>
  </div>

  <!-- MODAL GESTIÓN (CRUD) -->
  <div id="modalGestion" class="modal-overlay" style="display:none;">
    <div class="modal-card">
      <button class="close-x" onclick="cerrarGestion()">✕</button>
      <h2>Gestión de Productos</h2>

      <label>Nombre:</label>
      <input type="text" id="formNombre" placeholder="Nombre del producto">

      <label>Categoría:</label>
      <input type="text" id="formCategoria" placeholder="Categoría">

      <label>Precio (S/.):</label>
      <input type="number" id="formPrecio" placeholder="Precio">

      <label>URL de imagen (opcional):</label>
      <input type="text" id="formImagen" placeholder="productos/ejemplo.png">

      <label>Descripción (línea por línea):</label>
      <textarea id="formDescripcion" placeholder="Cada línea será un item de la lista"></textarea>

      <div style="margin-top:10px; display:flex; gap:8px; flex-wrap:wrap;">
        <button onclick="insertarProductoModal()">Insertar</button>
        <button onclick="editarProductoModal()">Editar</button>
        <button onclick="eliminarProductoModal()">Eliminar</button>
        <button onclick="limpiarFormGestion()">Limpiar</button>
      </div>

      <p style="font-size:0.9em;color:#555;margin-top:12px;">
        Para editar/eliminar escribe el nombre exacto del producto en "Nombre", o usa "Cargar" en una tarjeta.
      </p>
    </div>
  </div>

  <script src="JavaScript1/js_comprar.js"></script>
</body>
</html>

